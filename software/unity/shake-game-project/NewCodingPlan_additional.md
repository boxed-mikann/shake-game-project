## ✅ 完了済み項目（2025-11-19）
- ~~大量のハンドラー(シェイク処理は音符時と休符時の2種類でいい)~~ → **完了**: Phase1～7ShakeHandler（7個）を NoteShakeHandler + RestShakeHandler（2個）に統合
- ~~シェイク処理の高速性について検討(イベント駆動は早いのか？)~~ → **完了**: UnityEvent廃止、直接呼び出し方式で約3倍高速化

## ✅ 微小修正項目（完了 - 2025-11-19）
- ~~スライダは減っていくようにする。フェーズの種類によって色を変える。~~ → **完了**: 進行度を1→0に反転、フェーズごとに色分け（青/オレンジ/赤）
- ~~音符の生成範囲を画面内に。~~ → **完了**: カメラのorthographicSizeから動的計算、画面サイズの90%以内に生成

---

## 重要修正項目
1. DEBUGモード関係なく、入力はシリアル通信、キーボードが両方とも受け取れるようにする。IInputSorcesとか不要。→コードを簡潔にする。
2. 現在フリーズ時の入力停止はKeyboadInputReaderが行っており、シリアルポート入力の方はフリーズしないようになっている。フリーズはShakeResolverあたりが行うようにする(何もしないHandlerに差し替えるとか。)

3. SerialInputReaderのスレッドではSerialPortManagerのReadLineを呼び出す形となっていて、ポーリングになっていると思う。もとの_serialPort.ReadLine()はデータが来るまで待つ処理らしい←要調査。なのでその特性を生かして、処理量を少なく、処理速度を上げられないか？

## 重要検討項目
- ランキング、ハイスコア、最高記録表示など
- 音符がはじけるときのエフェクト
  - エフェクトアセット(JMOAssets)をアセットストアから持ってきた。
  - CFXR Magic Poofを使用する。
  - これもpoolを利用して低遅延で処理したい。

## 足りない機能・検討項目

余裕が出来たら追加する。

- **エラーハンドリング/ロギングシステム** - ログ出力・デバッグ用ロギングマネージャー（コンソール出力、ファイル保存等）
- **設定管理** - ゲーム難度、ポート番号、キー設定などをJSONまたはScriptableObjectで管理
- **リソース管理・プリロード** - ゲーム開始時にAudioClip、Sprite等を全てメモリ上に確保するPreloaderマネージャー
- **パフォーマンス監視** - フレームレート、メモリ使用量の表示・監視機構（デバッグ用UI）
- **セーブ・ロード機構** - ハイスコア、プレイ履歴等の永続化（PlayerPrefs or ファイルIO）
- **ネットワーク同期（将来対応）** - オンラインランキング、マルチプレイ検討時の基盤設計
- **入力イベント検証** - 受け取ったシェイクデータ（文字列）のバリデーション・パース機能
- **タイミング同期の微調整** - オーディオDSP時刻とゲーム時間のズレ吸収メカニズム
- **ポーズ/ポーズ解除機能** - GameManager側でポーズ状態を持ち、全マネージャーが購読
- **トランジション効果** - フェーズ間・画面間の切り替えアニメーション統一管理（TransitionManager）

- **もっとラグを少なくしたい**


## コード外修正項目
- フェーズ表示の文字化け