# バージョン2計画
ゲームデザインに大幅変更が出たので、あらたに作る。
## どんなゲーム？
- 曲(動画がある)に合わせて、チームで合わせてシェイクする
- シンクロ率でボルテージゲージが上昇.

## 会場＆プレイヤー
- 今回のイベントは最大10人ほどの班行動らしいのでその班でプレイできるようにする。
- 表示はスクリーンでできる。
- シェイクを検知する棒(esp8266)、そこから信号を受け取るやつesp32がある。

## どうやって作る？
- Unityプロジェクトを新しく立ち上げるのは面倒だし、これまでやったのが無駄になるので新規シーンで作成する。
- 元コードは一つのフォルダにまとめる。
- シリアル入力などそのまま使えるやつはCoreフォルダとして別にする
- 新シーン用のコードも一つのフォルダにまとめる→一貫性？
- フォルダ操作は人間が行う。

## 使うもの
- 旧コードの中からどれだけ使えるか検証
- 曲は動画付きのデータがある。
- 音ゲー譜面は、jsonのやつを利用
- ノーツを流す場合、どのように流すか？(最初に読み込んで全部(画面外遠くでも)配置、or近くなったら生成(実際はプールを使う)で使いまわす。)
- 判定は、音楽流してからの時間を取得できる奴があるらしいのでそれでいけるか？

## 注意点
- 
## 音ゲー要素について
最小要件:振るとなんか反応(エフェクト)がでるちょっとインタラクティブな映像(音楽はずっと流しっぱなし。)
理想：太鼓の達人みたいな精度をもった盛り上がる音ゲー

上の間で落としどころを探す。
とくに、音ゲーのノーツを流すか(シェイクのシンクロ度だけみるか)どうかは、作ってみてラグ等のUXを見てから決める。（流せるようには作っておく。）

## ゲームデザイン
待機画面でもずっと音楽・映像は流れ続けていて、ゲームスタートするとその音楽が改めて始まる。その音楽に合わせて振る(or ノーツが流れてくる)
### はじめ
- はげしくシェイクすることで参加子機を登録する
- 全員でそろえてシェイクすることで開始
### ゲーム
- ノベルゲームみたいなキャラクター&吹き出しでサビのスパートやシェイクタイミングが指示される。
- シンクロ率やシェイク回数など(サビ、など曲のフェーズ等により計算式は変化する)によりボルテージゲージが上昇
- シンクロ時などにはちゃんと「シンクロ！」などの表示が出る(アニメーションというのを使うといいらしい)
- 時間制限で終了

### 結果発表
- ボルテージゲージの量が表示される。
- 結果に応じてメッセージやキャラクターの反応が変わる。

### その他、考え中の案
- ボルテージゲージが上昇すると、次の曲がアンロックされる
- ゲーム側でタイミングを子機に送り、タイミングがあったかどうかを子機に判定させる